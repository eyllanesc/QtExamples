# https://matplotlib.org/3.2.1/gallery/shapes_and_collections/ellipse_demo.html

import sys

import numpy as np
from matplotlib.backends.backend_qt5agg import FigureCanvas
from matplotlib.figure import Figure
from matplotlib.patches import Ellipse
from PyQt5.QtWidgets import QApplication

app = QApplication(sys.argv)

fig = Figure(figsize=(8, 6))
canvas = FigureCanvas(fig)
canvas.resize(640, 480)
canvas.show()

NUM = 250

ells = [
    Ellipse(
        xy=np.random.rand(2) * 10,
        width=np.random.rand(),
        height=np.random.rand(),
        angle=np.random.rand() * 360,
    )
    for i in range(NUM)
]

ax = fig.subplots(subplot_kw={"aspect": "equal"})
for e in ells:
    ax.add_artist(e)
    e.set_clip_box(ax.bbox)
    e.set_alpha(np.random.rand())
    e.set_facecolor(np.random.rand(3))

ax.set_xlim(0, 10)
ax.set_ylim(0, 10)

sys.exit(app.exec_())
